<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" minWidth="400" alpha="0.75" backgroundColor="0x333333">

	<mx:Script>
		<![CDATA[
			import mx.controls.Tree;
			import mx.controls.Alert;
			import tools.Images;
			
			private var selectedNode:XML;

			public function iconFunction(item:Object):Class {
				// trace("Item: [" + item + "]");
				var xmlNode:XML = item as XML;
				if (xmlNode.@nodeType == "Region") {
					return Images.Region;
				} else if (xmlNode.@nodeType == "Handler") {
					return Images.Handler;
				} else {
					return Images.Sheet;
				}
			}
			
			public function treeChanged(event:Event):void {
				selectedNode = (event.target as Tree).selectedItem as XML;
				trace(selectedNode.@label);
			}
		]]>
	</mx:Script>

	<mx:XMLList id="treeData">
        <node label="Sheet A" nodeType="Sheet">
            <node label="Region 1" nodeType="Region">
                <node label="InkHandler" nodeType="Handler"/>
                <node label="HandwritingRecognizer" nodeType="Handler"/>
            </node>
        </node>
        <node label="Sheet B" nodeType="Sheet">
            <node label="Region 1" nodeType="Region">
                <node label="InkHandler" nodeType="Handler"/>
            </node>
            <node label="Region 2" nodeType="Region">
                <node label="ClickAdapter" nodeType="Handler"/>
            </node>
        </node>    
    </mx:XMLList>	
		
	<mx:VBox top="10" left="10" width="100%" right="10">
		

	<!-- Image of one or more Pens, with a panel to show pen data as it comes in... //-->
	<mx:HBox top="0" left="0" right="0" width="100%" verticalAlign="top">
		<mx:VBox horizontalAlign="right" verticalAlign="top" verticalGap="0">
			<mx:Label text="Pens" fontSize="12"/>
			<mx:HBox horizontalGap="0" >
				<mx:Image id="pen1" source="{Images.PenInactive}" click="Alert.show('Pen 1 Clicked');" buttonMode="true"/>
				<mx:Image id="pen2" source="{Images.PenInactive}" click="Alert.show('Pen 2 Clicked');" buttonMode="true"/>
				<mx:Image id="pen3" source="{Images.PenInactive}" click="Alert.show('Pen 3 Clicked');" buttonMode="true"/>
				<mx:Image id="pen4" source="{Images.PenInactive}" click="Alert.show('Pen 4 Clicked');" buttonMode="true"/>
			</mx:HBox>
		</mx:VBox>
		<mx:VBox width="100%" height="100%" horizontalAlign="right" verticalGap="0">
			<mx:Label text="Pen Data" fontSize="12"/>
			<mx:Canvas backgroundColor="0x000000" width="100%" height="100%" borderThickness="2" borderColor="0x333333" borderStyle="solid" cornerRadius="10"/>
		</mx:VBox>
	</mx:HBox>


	<!-- Information on Objects in the System, like #Sheets, Handlers, etc... //-->

	<!-- Tree List of Sheets, Regions, Handlers... to provide quick access //-->
	<mx:Tree id="paperUITree" top="95" left="10" right="10" width="100%" height="100%" dataProvider="{treeData}" labelField="@label" styleName="tree" defaultLeafIcon="{Images.Handler}" 
		 iconFunction="iconFunction" change="treeChanged(event);">
	</mx:Tree>

	
	
	</mx:VBox>
	
	<!-- Tree List of most recently edited methods/handlers //-->


</mx:Canvas>
